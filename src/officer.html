<!doctype html>
<html lang="en" class="page-officer">
  <head>
    {{> head
      title="Officer Portal | UT Canoe & Hiking Club"
      description="Officer tools for managing UTCH trips."
    }}
    <script type="module" src="/js/core.js"></script>
    <script type="module" src="/js/animations.js"></script>
    <script type="module" src="/js/officer.js"></script>
  </head>
  <body>
    {{> header }}

    <main id="main">
      {{> hero-compact
        heroTitle="Trip Management"
        heroDescription="Log in to create and edit trips, review requests, and sync the calendar."
      }}

      <section class="section section--alt" data-officer-login>
        <div class="wrap wrap--narrow">
          <article class="card card--center card--ornate card--portal">
            <span class="section-kicker">Officer Login</span>
            <h2>Enter Passcode</h2>
            <p>Access trip tools and calendar sync.</p>

            <form class="form" data-officer-login-form>
              <div class="sr-only" aria-hidden="true">
                <label for="officerUsername">Username</label>
                <input id="officerUsername" name="username" type="text" autocomplete="username" tabindex="-1" />
              </div>

              <div class="field">
                <label for="officerSecret">Passcode</label>
                <input id="officerSecret" name="officerSecret" type="password" required placeholder="Enter passcode" autocomplete="current-password" />
              </div>

              <button class="btn btn-primary" type="submit">Continue</button>
              <div class="status" data-officer-login-status hidden></div>
            </form>
          </article>
        </div>
      </section>

      <section class="section is-hidden" data-officer-dashboard data-officer-hash="manage">
        <div class="wrap">
          <div class="section-header">
            <span class="section-kicker">Operations</span>
            <h2>Trip Tools</h2>
            <p>Create trips, edit details, manage roster requests, remove duplicates, and sync calendar events.</p>
            <div class="cta">
              <button class="btn btn-secondary" type="button" data-officer-sync-button>Sync Calendar</button>
              <a class="btn btn-ghost" href="/officer-settings.html">Site Settings</a>
              <div class="status" data-officer-sync-status hidden></div>
            </div>
          </div>

          <div class="officer-stack">
            <article class="card card--ornate officer-card--trip">
              <h2>Trip Form</h2>
              <form class="form trip-form" data-officer-trip-form>
                <div class="field">
                  <label for="tripMode">Mode</label>
                  <select id="tripMode" data-trip-mode-select>
                    <option value="CREATE" selected>Create New Trip</option>
                    <option value="EDIT">Edit Existing Trip</option>
                  </select>
                </div>

                <div class="field" data-trip-select-row hidden>
                  <label for="tripEditId">Select Trip</label>
                  <select id="tripEditId" data-trip-select>
                    <option value="" disabled selected>Select a trip...</option>
                  </select>
                </div>

                <div class="row">
                  <div class="field">
                    <label for="tripTitle">Trip Title</label>
                    <input id="tripTitle" name="title" required placeholder="Trip Title" />
                  </div>
                  <div class="field">
                    <label for="tripActivity">Activity</label>
                    <select id="tripActivity" name="activity">
                      <option value="">Select...</option>
                      <option value="Hike">Hike</option>
                      <option value="Backpacking">Backpacking</option>
                      <option value="Canoe/Kayak">Canoe/Kayak</option>
                      <option value="Camping">Camping</option>
                      <option value="Climbing">Climbing</option>
                      <option value="Other">Other</option>
                    </select>
                  </div>
                </div>

                <div class="row">
                  <div class="field">
                    <label for="tripStartDate">Start Date</label>
                    <input id="tripStartDate" name="startDate" type="date" required placeholder="mm/dd/yyyy" />
                  </div>
                  <div class="field">
                    <label for="tripStartTime">Start Time</label>
                    <input id="tripStartTime" name="startTime" type="time" placeholder="--:-- --" />
                  </div>
                </div>

                <div class="row">
                  <div class="field">
                    <label for="tripEndDate">End Date</label>
                    <input id="tripEndDate" name="endDate" type="date" placeholder="mm/dd/yyyy" />
                  </div>
                  <div class="field">
                    <label for="tripEndTime">End Time</label>
                    <input id="tripEndTime" name="endTime" type="time" placeholder="--:-- --" />
                  </div>
                </div>

                <div class="row">
                  <div class="field">
                    <label for="tripLocation">Location</label>
                    <input id="tripLocation" name="location" placeholder="Location" />
                  </div>
                  <div class="field">
                    <label for="tripDifficulty">Difficulty</label>
                    <select id="tripDifficulty" name="difficulty">
                      <option value="">Select...</option>
                      <option value="Easy">Easy</option>
                      <option value="Moderate">Moderate</option>
                      <option value="Hard">Hard</option>
                      <option value="Varies">Varies</option>
                    </select>
                  </div>
                </div>

                <div class="field">
                  <label for="tripSignupStatus">Signup Button Status</label>
                  <select id="tripSignupStatus" name="signupStatus" required>
                    <option value="REQUEST_OPEN">Request to Join</option>
                    <option value="MEETING_ONLY">Attend Meeting to Sign Up</option>
                    <option value="FULL">Trip Full</option>
                  </select>
                </div>

                <div class="row">
                  <div class="field">
                    <label for="tripMeetTime">Meet Time</label>
                    <input id="tripMeetTime" name="meetTime" placeholder="Meet Time" />
                  </div>
                  <div class="field">
                    <label for="tripMeetPlace">Meet Place</label>
                    <input id="tripMeetPlace" name="meetPlace" placeholder="Meet Place" />
                  </div>
                </div>

                <div class="row">
                  <div class="field">
                    <label for="tripLeaderName">Leader Name</label>
                    <input id="tripLeaderName" name="leaderName" placeholder="Leader Name" />
                  </div>
                  <div class="field">
                    <label for="tripLeaderContact">Leader Contact</label>
                    <input id="tripLeaderContact" name="leaderContact" placeholder="Leader Contact" />
                  </div>
                </div>

                <div class="field field--textarea">
                  <label for="tripNotes">Notes</label>
                  <textarea id="tripNotes" name="notes" placeholder="Trip notes" rows="3"></textarea>
                </div>

                <fieldset class="field">
                  <legend>Club Gear Available</legend>
                  <div class="checkbox-grid">
                    <label class="checkbox"><input type="checkbox" name="gearAvailable" value="tent" /><span>Tent</span></label>
                    <label class="checkbox"><input type="checkbox" name="gearAvailable" value="sleeping bag" /><span>Sleeping Bag</span></label>
                    <label class="checkbox"><input type="checkbox" name="gearAvailable" value="sleeping pad" /><span>Sleeping Pad</span></label>
                    <label class="checkbox"><input type="checkbox" name="gearAvailable" value="stove" /><span>Stove</span></label>
                    <label class="checkbox"><input type="checkbox" name="gearAvailable" value="headlamp" /><span>Headlamp</span></label>
                  </div>
                </fieldset>

                <button class="btn btn-primary" type="submit"><span data-trip-submit-label>Create Trip</span></button>
                <div class="status" data-officer-trip-status hidden></div>
              </form>
            </article>

            <article class="card officer-card--compact">
              <h2>Delete Trip</h2>
              <form class="form" data-officer-delete-form>
                <div class="field">
                  <label for="deleteTripId">Select Trip</label>
                  <select id="deleteTripId" name="tripId" data-delete-trip-select required>
                    <option value="" disabled selected>Loading trips...</option>
                  </select>
                </div>
                <button class="btn btn-outline" type="submit">Delete Trip</button>
                <div class="status" data-officer-delete-status hidden></div>
              </form>
            </article>

            <article class="card card--ornate officer-card--requests">
              <h2>Trip Requests</h2>
              <form class="form" data-officer-requests-form>
                <div class="field">
                  <label for="requestsTripId">Select Trip</label>
                  <select id="requestsTripId" data-requests-trip-select required>
                    <option value="" disabled selected>Select a trip...</option>
                  </select>
                </div>
              </form>

              <div class="status" data-officer-requests-status hidden></div>

              <div class="requests-board" data-officer-requests-board>
                <section class="requests-column">
                  <h3>Pending Requests</h3>
                  <ul class="requests-list" data-requests-pending>
                    <li class="requests-empty">Select a trip to view requests.</li>
                  </ul>
                </section>

                <section class="requests-column">
                  <h3>Approved Roster</h3>
                  <ul class="requests-list" data-requests-approved>
                    <li class="requests-empty">Select a trip to view roster.</li>
                  </ul>
                </section>

                <section class="requests-column">
                  <h3>Declined</h3>
                  <ul class="requests-list" data-requests-declined>
                    <li class="requests-empty">Select a trip to view declined requests.</li>
                  </ul>
                </section>
              </div>
            </article>
          </div>
        </div>
      </section>
    </main>

    {{> footer }}
  </body>
</html>
